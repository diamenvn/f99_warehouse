{"ast":null,"code":"import _classCallCheck from\"/Users/onion9x/Documents/Source Code/f99_warehouse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/onion9x/Documents/Source Code/f99_warehouse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/onion9x/Documents/Source Code/f99_warehouse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/onion9x/Documents/Source Code/f99_warehouse/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Input,Button,Form,Spin,Alert}from'antd';import{UserOutlined,LockOutlined}from'@ant-design/icons';import Master from'./master';import'./style.sass';import Logo from'../../storages/image/logo2.png';import{UserAPI}from'../../api/auth/userApi';import Cookies from'js-cookie';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:\"\",password:\"\",errLogin:false,errMsg:\"\",loading:false};_this.login=function(){var _this$state=_this.state,username=_this$state.username,password=_this$state.password;if(!!!username||!!!password)return;var data={username:username,password:password};_this.setState({loading:true});UserAPI.login(data).then(function(res){var data=res.data;if(data.success){Cookies.set('_session',data.data);window.location.href=\"/dashboard\";}else{_this.setState({errLogin:true,errMsg:data.msg});}}).catch(function(res){_this.setState({errLogin:true,errMsg:res.message});}).finally(function(res){_this.setState({loading:false});});};_this.changeInputUser=function(val){_this.setState({username:val.target.value,errLogin:false});};_this.changeInputPass=function(val){_this.setState({password:val.target.value,errLogin:false});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Master,null,/*#__PURE__*/React.createElement(\"div\",{className:\"login_form login_form--layout\"},/*#__PURE__*/React.createElement(Spin,{spinning:this.state.loading},/*#__PURE__*/React.createElement(Form,{className:\"text-center\",name:\"basic\",initialValues:{remember:true},onFinish:this.login,onFinishFailed:this.login},/*#__PURE__*/React.createElement(\"img\",{alt:\"logo\",className:\"logo\",src:Logo}),/*#__PURE__*/React.createElement(\"div\",{className:\"text mb-30\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"fw-bold\"},\"\\u0110\\u0103ng nh\\u1EADp F99 Warehouse\")),/*#__PURE__*/React.createElement(Alert,{className:this.state.errLogin?\"d-block\":\"d-none\",message:this.state.errMsg,type:\"error\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-control my-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left fs-13 mb-5 co-gray\"},\"Nh\\u1EADp t\\xE0i kho\\u1EA3n\"),/*#__PURE__*/React.createElement(Form.Item,{name:\"username\",className:\"text-left\",rules:[{required:true,message:'Vui lòng nhập tên tài khoản'}]},/*#__PURE__*/React.createElement(Input,{onChange:function onChange(e){return _this2.changeInputUser(e);},prefix:/*#__PURE__*/React.createElement(UserOutlined,{className:\"site-form-item-icon\"}),placeholder:\"Nh\\u1EADp t\\xE0i kho\\u1EA3n\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-control my-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-left fs-13 mb-5 co-gray\"},\"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\"),/*#__PURE__*/React.createElement(Form.Item,{name:\"password\",className:\"text-left\",rules:[{required:true,message:'Vui lòng nhập mật khẩu'}]},/*#__PURE__*/React.createElement(Input.Password,{onChange:function onChange(e){return _this2.changeInputPass(e);},prefix:/*#__PURE__*/React.createElement(LockOutlined,{className:\"site-form-item-icon\"}),placeholder:\"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-control my-20\"},/*#__PURE__*/React.createElement(Button,{htmlType:\"submit\",type:\"primary\",size:\"large\",className:\"btn_login--layout fs-16\"},\"\\u0110\\u0103ng nh\\u1EADp\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-control mb-15\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"/\"},\"Qu\\xEAn m\\u1EADt kh\\u1EA9u?\")))))));}}]);return Login;}(Component);function dispatchData(dispatchData){}export default Login;","map":{"version":3,"sources":["/Users/onion9x/Documents/Source Code/f99_warehouse/src/components/auth/login.js"],"names":["React","Component","Input","Button","Form","Spin","Alert","UserOutlined","LockOutlined","Master","Logo","UserAPI","Cookies","Login","state","username","password","errLogin","errMsg","loading","login","data","setState","then","res","success","set","window","location","href","msg","catch","message","finally","changeInputUser","val","target","value","changeInputPass","remember","required","e","dispatchData"],"mappings":"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","sourcesContent":["import React, {\n    Component\n} from 'react';\n\nimport { Input, Button, Form, Spin, Alert } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport Master from './master';\nimport './style.sass';\nimport Logo from '../../storages/image/logo2.png';\nimport { UserAPI } from '../../api/auth/userApi';\nimport Cookies from 'js-cookie'\n\nclass Login extends Component {\n    state = {\n        username: \"\",\n        password: \"\",\n        errLogin: false,\n        errMsg: \"\",\n        loading: false\n    }\n    render() {\n        return (\n            <Master>\n                <div className=\"login_form login_form--layout\">\n                    <Spin spinning={this.state.loading}>\n                        <Form\n                            className=\"text-center\"\n                            name=\"basic\"\n                            initialValues={{ remember: true }}\n                            onFinish={this.login}\n                            onFinishFailed={this.login}\n                        >\n                            <img alt=\"logo\" className=\"logo\" src={Logo} />\n                            <div className=\"text mb-30\">\n                                <h1 className=\"fw-bold\">Đăng nhập F99 Warehouse</h1>\n                            </div>\n                            <Alert className={this.state.errLogin ? \"d-block\" : \"d-none\"} message={this.state.errMsg} type=\"error\" />\n                            <div className=\"form-control my-10\">\n                                <div className=\"text-left fs-13 mb-5 co-gray\">Nhập tài khoản</div>\n                                <Form.Item\n                                    name=\"username\"\n                                    className=\"text-left\"\n                                    rules={[{ required: true, message: 'Vui lòng nhập tên tài khoản' }]}\n                                ><Input onChange={(e) => this.changeInputUser(e)} prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Nhập tài khoản\" /></Form.Item>\n\n                            </div>\n                            <div className=\"form-control my-10\">\n                                <div className=\"text-left fs-13 mb-5 co-gray\">Nhập mật khẩu</div>\n                                <Form.Item\n                                    name=\"password\"\n                                    className=\"text-left\"\n                                    rules={[{ required: true, message: 'Vui lòng nhập mật khẩu' }]}\n                                ><Input.Password onChange={(e) => this.changeInputPass(e)} prefix={<LockOutlined className=\"site-form-item-icon\" />} placeholder=\"Nhập mật khẩu\" /></Form.Item>\n                            </div>\n                            <div className=\"form-control my-20\">\n                                <Button htmlType=\"submit\" type=\"primary\" size=\"large\" className=\"btn_login--layout fs-16\">Đăng nhập</Button>\n                            </div>\n                            <div className=\"form-control mb-15\">\n                                <span><a href=\"/\">Quên mật khẩu?</a></span>\n                            </div>\n                        </Form>\n                    </Spin>\n                </div>\n            </Master>\n        );\n    }\n\n    login = () => {\n        const { username, password } = this.state;\n        if (!!!username || !!!password) return;\n        \n\n        let data = {\n            username: username,\n            password: password\n        };\n\n        this.setState({ loading: true });\n        UserAPI.login(data).then(res => {\n            const { data } = res;\n            if (data.success) {\n                Cookies.set('_session', data.data);\n                window.location.href = \"/dashboard\";\n            } else {\n                this.setState({\n                    errLogin: true,\n                    errMsg: data.msg\n                });\n            }\n        }).catch(res => {\n            this.setState({\n                errLogin: true,\n                errMsg: res.message\n            });\n        }).finally(res => {\n            this.setState({ loading: false });\n        });\n    }\n\n    changeInputUser = (val) => {\n        this.setState({\n            username: val.target.value,\n            errLogin: false\n        });\n    }\n    changeInputPass = (val) => {\n        this.setState({\n            password: val.target.value,\n            errLogin: false\n        });\n    }\n}\n\nfunction dispatchData(dispatchData) {\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}